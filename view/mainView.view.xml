<mvc:View
	controllerName="Nathan.Shaw.controller.mainView"
	xmlns:html="http://www.w3.org/1999/xhtml"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns:l="sap.ui.layout"
	displayBlock="true"
	xmlns:core="sap.ui.core"

	xmlns="sap.m">
	<App id="app">
		<pages>
			<Page title="{i18n>title}">
				<content>

					
					<l:Grid defaultSpan="L12 M12 S12">
						<HBox>
							
						<Button
						text="Add"
						icon="sap-icon://add-activity"
						type="Emphasized"
						press="onAddPress" 
						class="sapUiLargeMarginEnd"/>
						
						<SearchField  width="90%"  />
					</HBox>
				
						<VBox 		class="SapUiResponsiveMargin">
							<FlexBox id="myHBox" 	alignItems="Center"  class="SapUiResponsiveMargin"> </FlexBox>
						
							<layoutData> 
								<l:GridData indent="L1 M1 S1" span="L10 M10 S10" />
							</layoutData>
							<!-- fills table using the items from results -->
							<Table 
					            id="table"	
								items="{oDataModel>/results}"
								                growing="true"
								growingThreshold="10" 
								>
							
								<!-- column headers -->
								<columns>
									<Column >
										<Text text="Task" />
									</Column>
									<Column>
										<Text text="Created By" />
										
									</Column>

									<Column width="auto">
										<Text text="Description" />
										
									</Column>
									<Column id="dueDate">
										<HBox>
							
										<Text text="Due date"  	class="sapUiLargeMarginEnd" />

								
									</HBox>
										
									</Column>
							
									<Column width="auto">
                                    <HBox>


										<Button width="auto"  press="onPressExcelExport" icon="sap-icon://excel-attachment" 		class="sapUiSmallMarginEnd" />
										<!--<Button  press="getDeletedData" width="50%" icon="sap-icon://pie-chart" /> -->
									</HBox> 
									</Column>
								</columns>
<items>
								<!-- aggregation template - fills each cell with the direct properties of the model in TestDara -->
								<ColumnListItem>
									<cells>
										<Text text="{oDataModel>Title}" />
										<Text text="{oDataModel>Createdby}" />
										<Text text="{oDataModel>Description}" />
					      				<Text text ="{path : 'oDataModel>Duedate', type : 'sap.ui.model.type.Date', formatOptions : {style: 'long'}}"/>	
											<HBox>
											<Button 
											class="sapUiSmallMarginEnd"
											icon="sap-icon://edit"  
											press="onEditPress"/>
											
											<Button  
											icon="sap-icon://delete"  
											press="onDeletePress"
											class="sapUiSmallMarginEnd" />
											
											<Button 
											icon="sap-icon://detail-view"
											  
											type="Emphasized"
										
											 
											press="navToTaskDetails"
											/>
											
											
										</HBox>
		
											
									</cells>
								</ColumnListItem>
								
							</items>
							</Table>
						</VBox>
					</l:Grid>
				</content>
			</Page>
		</pages>
	</App>
</mvc:View>
